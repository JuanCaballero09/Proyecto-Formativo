<div id="carrito-cupon">
  <% if carrito&.coupon.present? %>
    <p>
      Cupón aplicado: <strong><%= carrito.coupon.codigo %></strong>
      (<%= number_to_currency(carrito.descuento) %> de descuento)
    </p>

    <%= button_to "Quitar cupón",
                  quitar_cupon_carrito_path,
                  method: :delete,
                  form: { data: { turbo_stream: true } },
                  class: "btn btn-danger" %>
  <% else %>
    <%= form_with url: aplicar_cupon_carrito_path,
                  method: :post,
                  data: { turbo_stream: true },
                  local: true,
                  class: "form-cupon" do |f| %>
      <%= f.text_field :codigo, placeholder: "Ingresa tu cupón" %>
      <%= f.submit "Aplicar", class: "btn btn-primary" %>
    <% end %>
  <% end %>
</div>
