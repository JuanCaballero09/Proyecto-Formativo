<% current_year = Time.current.year %>
<% years_range = (current_year..current_year+10).to_a %>

<%= form_with model: [:dashboard, @coupon], html: { id: "coupon-form" , class: "dashboard-form" } do |f| %>
  <div>
    <%= f.label :codigo, "Código" %>
    <%= f.text_field :codigo %>
  </div>
  <div>
    <%= f.label :tipo_descuento, "Tipo de descuento" %>
    <%= f.select :tipo_descuento, [["Fijo", "fijo"], ["Porcentaje", "porcentaje"]], {}, { id: "tipo_descuento" } %>
  </div>
  <div class="input-cupon-fix">
    <%= f.label :valor, "Valor" %>
    <%= f.number_field :valor, id: "valor" %>
    <p id="valor-error" style="color: red; display: none;"></p>
  </div>
  <div class="input-cupon-fix">
    <%= f.label :expira_en, "Expira en" %>
    <%= f.date_select :expira_en, include_blank: true, start_year: current_year, end_year: current_year+10 %>
    <%= f.hidden_field :expira_en_hour, value: 0 %>
    <%= f.hidden_field :expira_en_minute, value: 0 %>
  </div>
  <div class="checkbox-container">
    <%= f.label :activo, "Activo" %>
    <%= f.check_box :activo %>
  </div>
  <div>
    <%= f.submit @coupon.new_record? ? 'Crear cupón' : 'Actualizar cupón' %>
  </div>
<% end %>
